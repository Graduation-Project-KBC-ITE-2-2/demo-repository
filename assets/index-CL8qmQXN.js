import{initializeApp as d}from"https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";import{getAuth as f}from"https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js";import{getFirestore as p}from"https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();const m={apiKey:"AIzaSyBiHjBk7rMiz4Fw7IoLPpFo1FTrQxqy_58",authDomain:"acau-3ebcf.firebaseapp.com",projectId:"acau-3ebcf",storageBucket:"acau-3ebcf.appspot.com",messagingSenderId:"407904196633"},l=d(m),a=f(l);p(l);const i=document.getElementById("login-button"),s=document.getElementById("signup-button");window.onload=function(){new URLSearchParams(window.location.search).get("login")==="success"&&alert("ログイン成功"),a.onAuthStateChanged(o=>{const n=document.getElementById("account-name");o?(n.innerText=o.email.charAt(0),n.style.display="flex",i.innerText="ログアウト",i.onclick=()=>{a.signOut().then(()=>{console.log("ユーザーはログアウトしました。"),location.reload()}).catch(r=>{console.error("ログアウトエラー:",r)})},s.style.display="none"):(n.style.display="none",i.innerText="ログイン",i.onclick=()=>{location.href="login&logout/login .html"},s.style.display="block",s.onclick=()=>{location.href="signup.html"})})};
